# CR 프롬프트 템플릿 허브: 기술 사양 및 구축 계획

- **문서 버전**: 1.0
- **작성일**: 2025년 11월 13일
- **작성자**: Manus AI

---

## 1. 프로젝트 개요

본 문서는 시민 주도 언론 비평 플랫폼 CR(Critical Reader) 프로젝트의 일환으로, **'CR 프롬프트 템플릿 허브'** 구축을 위한 기술 사양과 단계별 실행 계획을 정의합니다. 이 허브는 사용자가 제공한 기사 링크를 분석하여 최적의 AI 평가 프롬프트 템플릿을 제공하는 웹 서비스입니다.

### 1.1. 목표

- **속도**: 4주 내에 핵심 기능을 갖춘 MVP(Minimum Viable Product)를 출시합니다.
- **품질**: 안정적이고 확장 가능한 아키텍처 위에서 고품질의 코드를 유지합니다.
- **효율**: AI 개발 도구(클로드 코드)를 최대한 활용하여 개발 생산성을 극대화합니다.

## 2. 기술 스택

| 구분 | 기술 | 버전/사양 | 목적 |
|---|---|---|---|
| **프론트엔드** | Next.js | 14+ | React 기반 SSR, SSG 지원, 개발 생산성 |
| | TypeScript | 5+ | 타입 안정성, 코드 품질 향상 |
| | Tailwind CSS | 3+ | 신속한 반응형 UI 개발 |
| | Shadcn/ui | 최신 | 재사용 가능한 고품질 UI 컴포넌트 라이브러리 |
| **백엔드** | Python | 3.11+ | 풍부한 AI/데이터 처리 라이브러리 생태계 |
| | FastAPI | 최신 | 고성능 비동기 웹 프레임워크, 자동 API 문서 |
| | Pydantic | 2+ | 데이터 유효성 검사 및 설정 관리 |
| **데이터베이스** | PostgreSQL | 15+ | 관계형 데이터 저장, JSONB 필드 활용 |
| | Redis | 7+ | API 응답 캐싱, 세션 관리 |
| **인프라** | Docker | 최신 | 개발/운영 환경 일관성 확보 |
| **AI 개발** | Claude Code | 최신 | Sub-Agents, Skills를 활용한 개발 자동화 및 가속화 |

## 3. 핵심 아키텍처 및 개발 철학

본 프로젝트는 다음 5가지 핵심 원칙에 기반하여 진행됩니다.

| 원칙 | 설명 |
|---|---|
| **Think → Implement → Review** | 모든 기능 개발은 '설계-구현-검토'의 3단계 워크플로우를 따릅니다. 이는 코드의 품질과 안정성을 보장하고, 의도치 않은 오류를 최소화합니다. |
| **병렬 개발 (Multi-Agent)** | 프론트엔드, 백엔드, 콘텐츠 생성 등 독립적인 작업 단위를 Sub-Agent로 정의하고, 동시에 개발을 진행하여 전체 기간을 획기적으로 단축합니다. |
| **단계적 복잡도 증가** | 프로젝트 초기에는 핵심 도구만 사용하고, 기능이 고도화되고 복잡성이 증가함에 따라 점진적으로 Skills, Sub-Agents 등 고급 도구를 도입합니다. |
| **실행 가능한 프롬프트** | 모든 개발 단계에서 즉시 복사하여 사용할 수 있는 구체적인 프롬프트와 코드 예시를 활용하여 개발 효율을 높입니다. |
| **자동화된 품질 관리** | 코드 리뷰, 테스트, 문서화를 자동화하여 일관된 품질을 유지하고 개발자 부담을 줄입니다. |

## 4. 3단계 개발 로드맵

### Phase 1: MVP (4주) - 핵심 기능 구축

**목표**: 4주 만에 사용자가 기사 URL을 입력하여 최적의 프롬프트 템플릿을 다운로드받는 핵심 플로우를 완성합니다.

#### Week 1: 프로젝트 부트스트랩 및 병렬 개발 착수

1.  **프로젝트 운영 컨텍스트 정의 (`claude.md`)**: 프로젝트 루트에 `claude.md` 파일을 생성하여 프로젝트의 목표, 기술 스택, 아키텍처, 코드 표준 등을 상세히 정의합니다. 이는 모든 AI Sub-Agent가 공유하는 단일 진실 공급원(Single Source of Truth) 역할을 합니다.
2.  **핵심 Sub-Agent 팀 구성**: `.claude/subagents/` 디렉토리에 `article-scraper`, `api-classifier`, `frontend-ui`, `code-documenter` 4개의 핵심 역할을 정의하는 Sub-Agent 설정 파일을 생성합니다.
3.  **병렬 작업 시작**: 메인 클로드 코드 프롬프트에 병렬 작업을 지시하여 개발을 시작합니다.

    ```
    다음 3가지 작업을 병렬로 시작합니다. 모든 작업은 claude.md의 코드 표준과 아키텍처를 따라야 합니다.

    [작업 1] @article-scraper
    - 지정된 3개 주요 언론사의 기사 스크래핑 모듈 개발

    [작업 2] @api-classifier
    - 기사 분류를 위한 FastAPI 엔드포인트(POST /api/classify) 설계

    [작업 3] @frontend-ui
    - Next.js 기반 UI 컴포넌트(ArticleInputForm, ClassificationResult) 설계
    ```

#### Week 2: CR 평가 기준 Skill화 및 모듈 고도화

1.  **CR 평가 기준 Skill 생성**: `Skill Seekers` 도구를 사용하여 CR 프로젝트의 8차원 평가 기준 문서를 Claude Skill로 변환합니다. 이는 Claude가 평가 기준을 '체화'하여 더 정확한 결과물을 생성하게 합니다.
2.  **Think → Implement → Review 워크플로우 적용**: 각 Sub-Agent에게 3단계 워크플로우를 적용하여 코드 품질을 높입니다.

#### Week 3-4: 통합, 템플릿 생성, 테스트

1.  **템플릿 생성 자동화**: `code-documenter` Sub-Agent에게 CR 평가 기준 Skill을 사용하여 기사 유형 및 AI 모델별 프롬프트 템플릿 생성을 지시합니다.
2.  **자동화된 코드 리뷰**: `code-reviewer` Sub-Agent를 설정하고, pre-commit hook에 연동하여 모든 커밋 전에 자동으로 코드 품질을 검사하게 합니다.

### Phase 2: 품질 강화 (6주) - 데이터 기반 유도 시스템

**목표**: 사용자 피드백을 수집하고 데이터베이스화하여, '최적의 AI 환경'을 지능적으로 추천하는 시스템을 구축합니다.

-   **AI 성능 데이터베이스 구축**: `database-designer` Sub-Agent를 활용하여 PostgreSQL 스키마를 설계합니다.
-   **데이터 시각화**: `frontend-ui` Sub-Agent가 Recharts를 사용하여 AI 모델별 성능 비교 차트를 구현합니다.
-   **프레임워크 Skills 도입**: 반복적인 프레임워크 관련 질문을 줄이기 위해 FastAPI, Next.js 관련 문서를 Skill로 만들어 도입합니다.

### Phase 3: 생태계 고도화 (8주) - 교육과 커뮤니티

**목표**: 사용자를 단순 이용자에서 'CR 프로젝트 파트너'로 성장시키는 교육 콘텐츠 및 커뮤니티 기능을 추가합니다.

-   **교육 콘텐츠 허브**: AI 리터러시 관련 문서를 Skill로 변환하고, `code-documenter`가 이를 바탕으로 교육 콘텐츠를 생성합니다.
-   **A/B 테스트 프레임워크**: 새로운 기능의 효과를 데이터 기반으로 검증하는 시스템을 구축합니다.
-   **게이미피케이션**: 평가 점수, 배지 시스템 등을 도입하여 사용자 참여를 유도합니다.

## 5. 최종 프로젝트 구조

```
prompt-template-hub/
├── .claude/                # 클로드 코드 설정
│   ├── subagents/          # Sub-Agent 정의
│   │   ├── article-scraper.md
│   │   ├── api-classifier.md
│   │   └── ...
│   └── skills/             # 생성된 Skills
│       └── cr-criteria.zip
├── frontend/               # Next.js 프론트엔드
│   ├── app/
│   └── components/
├── backend/                # FastAPI 백엔드
│   ├── app/
│   │   ├── services/
│   │   │   ├── classifier.py
│   │   │   └── scraper.py
│   │   └── main.py
│   └── tests/
├── templates/              # 프롬프트 템플릿
│   ├── claude-sonnet-4/
│   ├── gpt-4o/
│   └── gemini-pro/
├── claude.md               # 프로젝트 운영 컨텍스트
├── docker-compose.yml
└── README.md
```

## 6. 성공 지표 (KPI)

| Phase | 핵심 지표 | 목표 |
|---|---|---|
| **Phase 1 (MVP)** | 템플릿 다운로드 수 | 200건 이상 |
| | 사용자 피드백 제공률 | 10% 이상 |
| **Phase 2 (품질 강화)** | 최적 환경 선택률 | 60% 이상 |
| | 사용자 만족도 점수 | 5점 만점에 4점 이상 |
| **Phase 3 (생태계)** | 재방문율 | 30% 이상 |
| | 커뮤니티 기여 건수 | 월 10건 이상 |

## 7. 리스크 관리

| 리스크 | 심각도 | 대응 전략 |
|---|---|---|
| **기사 스크래핑 차단** | 높음 | User-Agent 로테이션, 프록시 사용, Selenium 등 대체 기술 준비 |
| **LLM 분류 정확도 저하** | 중간 | 지속적인 프롬프트 엔지니어링, Few-shot 예제 추가, 모델 교체(Haiku→Sonnet) |
| **개발 일정 지연** | 중간 | 병렬 개발 극대화, 핵심 기능에 집중, 비핵심 기능은 Phase 2로 이전 |
| **외부 API 비용 초과** | 낮음 | Redis 캐싱 전략 적극 활용, 비용이 낮은 모델(Haiku) 우선 사용 |
